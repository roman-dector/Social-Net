"use strict";(self.webpackChunksocial_net=self.webpackChunksocial_net||[]).push([[587],{7526:function(e,s,t){t.d(s,{du:function(){return y},J1:function(){return F},ZP:function(){return b}});var n=t(1413),i=t(885),r="LoginForm_loginFormContainer__lGv0-",a="LoginForm_email__wKrxY",l="LoginForm_password__ar8G6",c="LoginForm_rememberMe__BLxLx",o="LoginForm_submit__6RQ3W",u="LoginForm_fieldError__89AQx",m="LoginForm_formErrorContainer__0t0mA",d="LoginForm_formError__t01At",f="LoginForm_captcha__f-btY",x="LoginForm_captchaImgContainer__Ls2P3",h=t(2791),p=t(1134),_=t(1265),j=t(2797),v=function(){return j.Z_().email().required()},g=function(e){return j.Z_().min(parseInt(e)).required()},N=t(184),L=j.Ry({email:v(),password:g(4)}),y=function(e){var s=e.error,t=e.touched,n=e.style;if(s&&t){var i,r=null===(i=s.message)||void 0===i?void 0:i.split(" ").splice(1).join(" ");return(0,N.jsx)("p",{style:n||{},className:u,children:r})}return null},F=function(e){var s=e.error,t=e.style;return s.message?(0,N.jsx)("div",{className:m,children:(0,N.jsx)("p",{style:t||{},className:d,children:s.message})}):null},b=function(e){var s=(0,p.cI)({mode:"onChange",resolver:(0,_.X)(L)}),t=s.register,u=s.handleSubmit,m=s.formState,d=m.errors,j=m.touchedFields,v=(0,h.useState)({type:"",message:""}),g=(0,i.Z)(v,2),b=g[0],P=g[1];return(0,N.jsx)("div",{className:r,children:(0,N.jsxs)("form",{onSubmit:u((function(s){e.setIsAuthenticating(!0),e.login(s).then((function(){P({type:"",message:""})})).catch((function(e){P({type:"server",message:e.message})})).then((function(){e.setIsAuthenticating(!1)}))})),children:[(0,N.jsxs)("div",{className:a,children:[(0,N.jsx)("label",{children:"Email:"}),(0,N.jsx)("input",(0,n.Z)({},t("email"))),(0,N.jsx)(y,{error:d.email,touched:j.email})]}),(0,N.jsxs)("div",{className:l,children:[(0,N.jsx)("label",{children:"Password:"}),(0,N.jsx)("input",(0,n.Z)((0,n.Z)({},t("password")),{},{type:"password"})),(0,N.jsx)(y,{error:d.password,touched:j.password})]}),(0,N.jsxs)("div",{className:c,children:[(0,N.jsx)("input",(0,n.Z)((0,n.Z)({},t("rememberMe")),{},{type:"checkbox"})),(0,N.jsx)("label",{children:"remember me"})]}),e.captchaUrl?(0,N.jsxs)("div",{className:f,children:[(0,N.jsx)("div",{className:x,children:(0,N.jsx)("img",{src:e.captchaUrl,alt:"captcha image"})}),(0,N.jsx)("input",(0,n.Z)({},t("captcha")))]}):null,(0,N.jsx)(F,{error:b}),(0,N.jsx)("div",{className:o,children:(0,N.jsx)("button",{type:"submit",disabled:e.isAuthenticating,children:"Log In"})})]})})}},8587:function(e,s,t){t.r(s),t.d(s,{LeftPanelContext:function(){return q},default:function(){return Q}});var n=t(885),i="Music_musicPage__aApb7",r=t(2791),a=t(7581),l=t(1183),c=function(e){return e.musicState.musicList},o={playControl:"PlayControl_playControl__G+Ux4"},u=t(184),m=function(e){var s="https://via.placeholder.com/150",t="Select track to play",n="";return e.musicItem&&(s=e.musicItem.pictureUrl?e.musicItem.pictureUrl:"https://via.placeholder.com/150",t=e.musicItem.name,n=e.musicItem.audioUrl),(0,u.jsxs)("div",{className:o.playControl,children:[(0,u.jsx)("img",{src:s}),(0,u.jsx)("span",{children:t}),(0,u.jsx)("audio",{src:n,controls:!0,autoPlay:!0,onAbort:function(){return console.log("The end!")}}),(0,u.jsx)("div",{className:o.musicQueue})]})},d=function(e){return(0,u.jsx)("div",{children:(0,u.jsx)(m,{musicItem:e.currentMusicItem})})},f="LeftPanel_leftPanel__w1twK",x="LeftPanel_musicList_empty__ZhYZf",h="LeftPanel_musicList__iNy+F",p="LeftPanel_songPreview__raqZJ",_="LeftPanel_songPic__n5ilR",j="LeftPanel_songName__SNYxp",v="LeftPanel_songManageMenu__aZS03",g="LeftPanel_addMusicButton__Mxf3B",N="LeftPanel_addMusicButton_hovered__JRdva",L="LeftPanel_addMusicPopup__0BJMz",y="LeftPanel_addMusicPopupForm__NM2CR",F="LeftPanel_nameContainer__0vJns",b="LeftPanel_filesDropzone__TDnb4",P="LeftPanel_FileInput__-msMR",I="LeftPanel_buttons__nC9+k",Z=t(9126),C=t(7692),S=t(1413),w=t(2797),A=t(1134),M=t(1265),k=t(7526),D=(0,r.createContext)(null),E=function(e){var s=(0,a.I0)(),t=(0,A.cI)({resolver:(0,M.X)(w.Ry({songName:w.Z_().required()})),mode:"onSubmit"}),i=t.register,c=t.handleSubmit,o=t.setValue,m=t.formState,d=m.errors,f=m.touchedFields,x=(0,r.useState)({type:"",message:""}),h=(0,n.Z)(x,2),p=h[0],_=h[1],j=(0,r.useState)({name:"",file:null}),v=(0,n.Z)(j,2),g=v[0],N=v[1],b=(0,r.useState)({name:"",file:null}),P=(0,n.Z)(b,2),Z=P[0],C=P[1];return(0,u.jsx)("div",{className:L,children:(0,u.jsxs)("form",{className:y,onSubmit:c((function(e){g.file?(s((0,l.rZ)(e.songName,g.file,Z.file)),_({type:"",message:""}),o("songName",""),N({name:"",file:null}),C({name:"",file:null})):_({type:"AudioNotFound",message:"You should add some audio"})})),children:[(0,u.jsxs)("div",{className:F,children:[(0,u.jsx)("label",{children:"Name:"}),(0,u.jsx)("input",(0,S.Z)((0,S.Z)({},i("songName")),{},{type:"text"})),(0,u.jsx)(k.du,{error:d.songName,touched:f.songName,style:{color:"red"}})]}),(0,u.jsx)(D.Provider,{value:{audioFile:g,pictureFile:Z,setAudioFile:N,setPictureFile:C,setFormError:_},children:(0,u.jsx)(U,{register:i})}),(0,u.jsx)(k.J1,{error:p,style:{color:"red"}}),(0,u.jsxs)("div",{className:I,children:[(0,u.jsx)("input",{type:"button",value:"Close",onClick:function(){e.setIsActive(!1)}}),(0,u.jsx)("input",{type:"submit",value:"Accept"})]})]})})},U=function(e){var s=(0,r.useContext)(D);return(0,u.jsxs)("div",{className:b,children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{children:"Audio file:"}),(0,u.jsx)(R,{setFile:s.setAudioFile,fileName:s.audioFile.name,acceptedFiles:["audio/mpeg"]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{children:"Picture:"}),(0,u.jsx)(R,{setFile:s.setPictureFile,fileName:s.pictureFile.name,acceptedFiles:["image/jpeg","image/png"]})]})]})},R=function(e){var s,t=(0,r.useState)(""),i=(0,n.Z)(t,2),a=i[0],l=i[1],c=(0,r.useState)(!1),o=(0,n.Z)(c,2),m=(o[0],o[1]),d=function(e){e.preventDefault(),m(!0)};return s=a?(0,u.jsx)("span",{style:{color:"red"},children:a}):e.fileName?e.fileName:(0,u.jsxs)(u.Fragment,{children:["Drop here",(0,u.jsx)("br",{}),"Click to select"]}),(0,u.jsx)("div",{className:P,onDragStart:d,onDragOver:d,onDragEnd:function(e){e.preventDefault(),m(!1)},onDrop:function(s){s.preventDefault();var t=s.dataTransfer.files[0];e.acceptedFiles.includes(t.type)?(e.setFile({name:t.name,file:t}),l("")):l("Incorrect file type"),m(!1)},children:(0,u.jsxs)("label",{children:[(0,u.jsx)("input",{type:"file",onChange:function(s){var t=s.target.files;if(null!==t&&void 0!==t&&t.length){var n=t[0];e.acceptedFiles.includes(n.type)?(e.setFile({name:n.name,file:n}),s.target.value="",l("")):l("Incorrect file type")}}}),(0,u.jsx)("span",{children:s})]})})},J=function(e){return(0,u.jsxs)("div",{className:f,children:[(0,u.jsx)(T,{}),(0,u.jsx)(Y,{musicList:e.musicList})]})},Y=function(e){return e.musicList.length?(0,u.jsx)("div",{className:h,children:e.musicList.map((function(e){return(0,u.jsx)(B,{musicItem:e},e.id)}))}):(0,u.jsxs)("div",{className:x,children:["You don't have any music here,",(0,u.jsx)("br",{}),'just click "Add music" button.']})},B=function(e){var s=(0,a.I0)(),t=(0,r.useContext)(q),n="https://via.placeholder.com/150";return e.musicItem.pictureUrl&&(n=e.musicItem.pictureUrl),(0,u.jsxs)("div",{id:"".concat(e.musicItem.id),className:p,onClick:function(){t&&t(e.musicItem)},children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("img",{src:n,className:_}),(0,u.jsx)("span",{className:j,children:e.musicItem.name})]}),(0,u.jsxs)("div",{className:v,children:[(0,u.jsx)(C.ffM,{}),(0,u.jsx)(Z.AuQ,{onClick:function(e){var t,n;e.stopPropagation();var i=Number(null===(t=e.currentTarget.parentElement)||void 0===t||null===(n=t.parentElement)||void 0===n?void 0:n.getAttribute("id"));s((0,l.T9)(i))}})]})]})},T=function(e){var s=(0,r.useState)(!1),t=(0,n.Z)(s,2),i=t[0],a=t[1],l=(0,r.useState)(!1),c=(0,n.Z)(l,2),o=c[0],m=c[1];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:o?N:g,onClick:function(){a(!0)},onMouseOver:function(){return m(!0)},onMouseOut:function(){return m(!1)},children:o?(0,u.jsxs)("svg",{width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("rect",{width:"6",height:"20",x:"7",rx:"2"}),(0,u.jsx)("rect",{width:"20",height:"6",y:"7",rx:"2"})]}):(0,u.jsx)("span",{children:"Add music"})}),i?(0,u.jsx)(E,{setIsActive:a}):null]})},q=(0,r.createContext)(null),Q=function(){var e=(0,a.I0)(),s=(0,r.useState)(null),t=(0,n.Z)(s,2),o=t[0],m=t[1],f=(0,a.v9)(c);return(0,r.useEffect)((function(){e((0,l.i9)())}),[]),(0,u.jsxs)("div",{className:i,children:[(0,u.jsx)(q.Provider,{value:m,children:(0,u.jsx)(J,{musicList:f})}),(0,u.jsx)(d,{currentMusicItem:o})]})}}}]);
//# sourceMappingURL=587.78a88e84.chunk.js.map